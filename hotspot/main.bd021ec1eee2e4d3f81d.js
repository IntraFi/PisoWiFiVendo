!function(){"use strict";var e,t={497:function(e,t,a){var n=a(400),o=a(810),s=a(396),r=a(200),l=a(19),i=a(578),c=a(729),d=a(475),m=a(268),u=a(95),h=a(686),p=a(125),f=a(397),g=a(539);function b(...e){const t=e.reduce(((e,t)=>null==t?e:"object"==typeof t?{...e,...t}:{...e,[t]:!0}),{});return Object.entries(t).filter((([,e])=>e)).map((([e])=>e)).join(" ")}function y(){return Math.random().toString(36).substring(2,9)}function v(e,t=!1){const a=Math.floor(e/86400),n=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),s=e%60;if(t){let e;return e=a>0?n>0&&o>0?`${a}d ${n}h ${o}m`:n>0&&0===o?`${a}d ${n}h`:0===n&&o>0?`${a}d ${o}m`:`${a} day${w(a)}`:n>0?o>0?`${n}h ${o}m`:`${n} hour${w(n)}`:`${o} min${w(o)}`,{formattedTime:e}}return{days:a,hours:n,minutes:o,seconds:s}}function w(e){return e>1?"s":""}function x(e,t=!1){const a=Math.floor(e/1e3),n=e%1e3;if(t){let e;return e=a>0?n>0?`${a}GB ${n}MB`:`${a}GB`:`${n}MB`,{formattedBytes:e}}return{gigabytes:a,remainingMegabytes:n}}function N(e){const t=Number(e/1e9),a=Number(e/1e6),n=Number(e/1e3);return t>=1?`${t.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})}GB`:a>=1?`${a.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})}MB`:n>=1?`${n.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})}KB`:`${e.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})}B`}const C="API Failure",k="Please report this issue to the system administrator for further assistance. Thank you.",I="Please report this issue to the vendo owner for further assistance. Thank you.",M=`The hotspot portal is running an older version. ${I}`,T="Oops! It appears that you're currently disconnected from the network. Please ensure that you're connected to the network and try again.",R=`Oops! It appears that the Vendo device is disconnected from the network. ${I}`;function S(e,t,a,n=!1,o=!1){const s=document.getElementById(e.modalKey),r=document.getElementById(`${e.modalKey}-close`);if(r&&r.focus(),s){const r="string"==typeof t,l=t instanceof Error;let i="success";return(r||l)&&(i=n||!r&&t.cause===C?"warning":r?"success":"error"),s.checked=!0,{...e,title:a,message:l?t.message:t,type:i,showOverlayIcon:o}}return e}function E(){return{canShowInBottom:!0,showOverlayIcon:!0,closeBtnTxt:void 0,onCloseModal:void 0,secondaryBtnTxt:void 0,onSecondary:void 0}}var B=({modalKey:e="alert-modal",title:t,message:a,type:o,canShowInBottom:r=!0,showOverlayIcon:l=!0,closeBtnTxt:i,onCloseModal:c,secondaryBtnTxt:d,onSecondary:m,onClearOptions:u})=>{const y=(0,s.sO)(null);function v(){y.current&&(y.current.checked=!1)}return(0,n.h)(n.HY,null,(0,n.h)("input",{ref:y,type:"checkbox",id:e,className:"modal-toggle"}),(0,n.h)("dialog",{id:e,className:b("modal",{"modal-middle":!r,"modal-bottom sm:modal-middle":r})},(0,n.h)("div",{className:"relative w-full"},(0,n.h)("form",{method:"dialog",className:b("modal-box mx-auto max-h-screen text-center",{"border sm:border-0":r})},(0,n.h)("h3",{className:b("text-lg font-bold",{"mt-8":l})},t),"string"==typeof a&&(0,n.h)("p",{className:"py-2"},a)||(0,n.h)(n.HY,null,a),(0,n.h)("div",{className:"modal-action mt-0 gap-2"},null!=d&&(0,n.h)("button",{className:"btn my-2 flex-1",onClick:()=>{y.current&&y.current.checked&&m&&m(),u(E()),v()}},d),(0,n.h)("button",{id:`${e}-close`,className:b("btn my-2 flex-1",{"btn-primary":"success"===o,"btn-warning":"warning"===o,"btn-info":"info"===o,"btn-error":"error"===o}),onClick:()=>{y.current&&y.current.checked&&c&&c(),u(E()),v()}},i||"OK"))),(0,n.h)("div",{className:b("h-24 w-24 rounded-full shadow-md","flex items-center justify-center","absolute left-1/2 top-0 -translate-x-1/2 -translate-y-1/2 transform",{"bg-green-400":"success"===o,"bg-warning":"warning"===o,"bg-info":"info"===o,"bg-error":"error"===o},{hidden:!l})},"success"===o&&(0,n.h)(h.Z,{size:"58",color:"#fff"})||"warning"===o&&(0,n.h)(p.Z,{size:"58",color:"#fff"})||"info"===o&&(0,n.h)(f.Z,{size:"58",color:"#fff"})||"error"===o&&(0,n.h)(g.Z,{size:"58",color:"#fff"})))))};const $=({className:e,...t})=>(0,n.h)("span",{className:b("loading loading-bars",e),...t});var A=({milliseconds:e,maxMilliseconds:t})=>{const{progress:a,remainingSeconds:o}=(0,s.Ye)((()=>{if(t<=e)return{progress:0,remainingSeconds:0};const a=(t-e)/t*100;return{progress:a,remainingSeconds:Math.floor(t/1e3*(a/100))}}),[e,t]);return(0,n.h)("div",{className:"relative w-full"},(0,n.h)("progress",{className:"progress-primary progress h-4",value:a,max:"100"}),(0,n.h)("span",{className:"absolute inset-0 pt-px text-center text-sm font-bold"},`${o}s`))},O=a(661);const L=({text:e,type:t,isAltText:a=!1,spanClassExtend:o,className:s,...r})=>null==e||""===e?(0,n.h)(n.HY,null):(0,n.h)("label",{className:b("px-0 pb-0",{label:a},s),...r},(0,n.h)("span",{className:b("flex items-center text-accent",{"label-text-alt font-normal":a,"text-base":!a},o)},"error"===t&&(0,n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"mr-1 h-4 w-4"},(0,n.h)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))||"warning"===t&&(0,n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"mr-1 h-4 w-4"},(0,n.h)("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),e)),j=(0,O.Gp)((({containerClassExtend:e,containerNoPadding:t=!1,isRequired:a=!1,errorMessage:o,className:s,...r},l)=>(0,n.h)("div",{className:b("w-full",{"py-2":!t},e),hidden:r.hidden},(0,n.h)("div",{className:"relative"},(0,n.h)("input",{type:"text",ref:l,className:b("peer input-bordered input w-full px-2.5 pb-2.5 pt-4 hover:shadow-sm focus:shadow-sm focus:outline-none",{"input-accent":null!=o,"hover:border-green-500 focus:border-green-500":null==o,"input-disabled":r.disabled},s),...r,placeholder:" "}),(0,n.h)("label",{htmlFor:r.name,className:b("absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 transform rounded-md bg-white px-2 text-sm font-semibold duration-300","peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-placeholder-shown:font-light peer-placeholder-shown:text-gray-500","peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2",{"text-red-500":null!=o,"text-black peer-focus:text-green-500":null==o}),onClick:()=>{const e=document.querySelector(`input[name="${r.name}"]`);e&&!Array.isArray(e)&&e.focus()}},r.placeholder,a&&(0,n.h)("span",{className:"text-red-500"},"*"))),(0,n.h)(L,{text:o,type:"error",isAltText:!0}))));j.displayName="Input";var D=({minutes:e,countdown:t=!0,halt:a=!1,enableAnimationMobile:o,onTimerDone:r})=>{const[l,i]=(0,s.eJ)(60*e);(0,s.d4)((()=>{const e=setInterval((()=>{i((n=>a?n:t?t&&0!==n?n-1:t&&0===n?(r&&r(),clearInterval(e),0):n:n+1))}),1e3);return()=>{clearInterval(e)}}),[t,a,r]);const{days:c,hours:d,minutes:m,seconds:u}=v(l);return(0,n.h)("div",{className:"flex flex-col"},(0,n.h)("label",{className:"label-text-alt text-center"},"Session Time Left"),(0,n.h)("div",{className:"grid auto-cols-max grid-flow-col gap-5 text-center"},(0,n.h)("div",{className:"flex flex-col"},(0,n.h)("span",{className:b("countdown text-5xl font-extrabold",{"no-animation-mobile":!o})},(0,n.h)("span",{style:{"--value":c}})),"day"),(0,n.h)("div",{className:"flex flex-col"},(0,n.h)("span",{className:b("countdown text-5xl font-extrabold",{"no-animation-mobile":!o})},(0,n.h)("span",{style:{"--value":d}})),"hour"),(0,n.h)("div",{className:"flex flex-col"},(0,n.h)("span",{className:b("countdown text-5xl font-extrabold",{"no-animation-mobile":!o})},(0,n.h)("span",{style:{"--value":m}})),"min"),(0,n.h)("div",{className:"flex flex-col"},(0,n.h)("span",{className:b("countdown text-5xl font-extrabold",{"no-animation-mobile":!o})},(0,n.h)("span",{style:{"--value":u}})),"sec")))};var W=e=>{(0,s.d4)((()=>{document.title=null==e?"IntraFi":`${e} | IntraFi`}),[e])};var P=async(e,t,a,n,s,r,l,i,c,d,m)=>{const u={...t,signal:n.signal};let h=null,p=null,f=null,g=null;try{if(e.includes("http://")||e.includes("https://")?new URL(e):new URL(`${window.location.origin}${e}`),s((e=>({...e,loading:!0}))),r&&r(a),h=await fetch(e,u),!m?.ignoreRedirect){if(h.redirected)throw(0,o.BC)(h.url),new Error(h.statusText,{cause:"Redirected"});if(!h.ok)throw new Error(h.statusText,{cause:"Response Error"})}if(l&&l(h,a),200!==h.status)throw new Error(`${h.status} ${h.statusText}`,{cause:"Response Error"});if(!m?.ignoreContentRead){const e=h.headers.get("content-type");if(!e)throw new Error(`API Error: Response header 'content-type' is not defined. ${k}`);if(e.includes("application/json")&&!m?.isExternalAPI){const e=await h.json();if(null==e.message||null==e.status)throw new Error(`API Error: Response are not valid. ${k}`);if("success"!==e.status)throw new Error(e.message,{cause:"failed"===e.status?C:null});{if("data"in e&&null!=e.data&&0===Object.keys(e.data).length)throw new Error(`API Error: Data object is empty. ${k}`);const t={data:e.data,message:e.message};p=e,f=e.data,i&&i(t,a)}}else{const t={data:e.includes("application/json")||m?.isDataJson?await h.json():await h.text(),message:h.statusText,status:"success"},n={data:t.data,message:t.message};p=t,f=t.data,i&&i(n,a)}}}catch(e){g=e,e instanceof Error?("TypeError"===e.name&&(e.message.includes("Failed to fetch")?g=new Error(T):e.message.includes("Invalid URL")&&(g=new Error("Request Error: Invalid URL, check the URL's format."))),c&&g&&"AbortError"!==e.name&&"Redirected"!==e.cause&&c(g,a)):(g=new Error(`API Error: Internal Error. ${k}`),c&&c(g,a)),console.error(e)}finally{d&&d(p,g,a),s((e=>({...e,data:f,error:g,loading:null!=g&&"AbortError"===g.name&&"Manual abort"!==n.signal.reason})))}};var J=({url:e,init:t,params:a,onStart:n,onResponse:o,onSuccess:r,onError:l,onEnd:i,options:c})=>{const[d,m]=(0,s.eJ)({data:null,loading:!1,error:null,abort:()=>null,refetch:e=>{m((e=>({...e,data:null,loading:!0,error:null}))),h((t=>({url:t.url,init:t.init,params:e||(null==t.init||"get"===t.init.method?null:void 0),options:t.options})))}}),[u,h]=(0,s.eJ)({url:e,init:t,params:a,options:c}),p=(0,s.sO)({onStart:()=>null,onResponse:()=>null,onSuccess:()=>null,onError:()=>null,onEnd:()=>null});return(0,s.d4)((()=>{p.current.onStart=n}),[n]),(0,s.d4)((()=>{p.current.onResponse=o}),[o]),(0,s.d4)((()=>{p.current.onSuccess=r}),[r]),(0,s.d4)((()=>{p.current.onError=l}),[l]),(0,s.d4)((()=>{p.current.onEnd=i}),[i]),(0,s.d4)((()=>{h((t=>e===t.url?t:{...t,url:e}))}),[e]),(0,s.d4)((()=>{const e=new AbortController;let t=!1;if(null!=u.init&&"get"!==u.init.method||void 0===u.params?u.init&&"get"!==u.init.method&&(u.params||void 0===u.params)&&(t=!0):t=!0,t){let t=u.url;const a=new URLSearchParams,n=u.init;if(u.params&&Object.keys(u.params).length>0)if(u.options?.hasFile||Object.entries(u.params).forEach((([e,t])=>{a.append(e,String(t))})),null==u.init||"get"===u.init.method||"delete"===u.init.method)t=`${u.url}?${a}`;else if(n&&("post"===u.init?.method||"put"===u.init?.method))if(u.options?.hasFile&&"post"===u.init.method){const e=new FormData;Object.entries(u.params).forEach((([t,a])=>{if(a instanceof FileList)for(let n=0;n<a.length;n++)e.append(t,a[n]);else e.append(t,String(a))})),n.body=e}else n.body=a;m((t=>({...t,abort:()=>e&&e.abort("Manual abort")}))),P(t,n,u.params,e,(e=>m(e)),p.current.onStart,p.current.onResponse,p.current.onSuccess,p.current.onError,p.current.onEnd,u?.options)}return()=>e.abort()}),[u]),d},z=a.p+"images/e4c0ea077c826fe480bb.svg",H=a.p+"images/8505c8200a65f7b53301.svg",F=a.p+"images/cde23137acdd1964b7cb.mp3",V=a.p+"images/743e54998b498282d475.mp3",Y=a.p+"images/03d5c886a657f34ca1e8.mp3",U=a.p+"images/ad3e4b060cabac4c09bb.mp3";let K=new Audio(F),Z=new Audio(V),_=new Audio(Y),G=new Audio(U);K.addEventListener("ended",(function(){this.currentTime=0,this.play()}),!1);const q="Insert Coin Status",Q="Rate List";let X;const ee=({isVoucherWifiType:e,amount:t,previousAmount:a,limitConverted:o,voucher:r})=>{const[l,i]=(0,s.eJ)(0),[h,p]=(0,s.eJ)(0),f=(0,s.sO)(null);return(0,s.d4)((()=>{if(0===t&&0===a)return i(0),void p(0);null!=a&&t===a&&t!==l&&(Z.play(),i(t),p(t-l),f.current&&f.current.classList.remove("hidden"),f.current&&f.current.offsetWidth,f.current&&f.current.classList.add("opacity-100"),setTimeout((()=>{f.current&&f.current.classList.add("hidden"),f.current&&f.current.classList.remove("opacity-100")}),500))}),[t,a,l]),(0,n.h)("table",{className:"table"},(0,n.h)("tbody",null,r&&(0,n.h)("tr",{className:"border-none"},(0,n.h)("th",{className:"flex justify-center py-6"},(0,n.h)(c.Z,{size:24})),(0,n.h)("td",{className:"text-center"},(0,n.h)("div",{className:"text-3xl font-bold"},r))),(0,n.h)("tr",{className:"border-none"},(0,n.h)("th",{className:"flex justify-center py-6"},e?(0,n.h)(d.Z,{size:24}):(0,n.h)(m.Z,{size:24})),(0,n.h)("td",{className:"text-center"},(0,n.h)("div",{className:"text-3xl font-bold"},o))),(0,n.h)("tr",{className:"border-none"},(0,n.h)("th",{className:"flex justify-center py-6"},(0,n.h)(u.Z,{size:24})),(0,n.h)("td",{className:"text-center"},(0,n.h)("div",{className:"text-3xl font-bold"},(0,n.h)("span",null,t,null!=a&&(0,n.h)("span",{ref:f,className:"hidden opacity-0 transition-opacity duration-500 ease-in-out"}," + ",h)))))))},te=({portalSettings:e,isInsertMode:t,onConfirm:a})=>{const[o,r]=(0,s.eJ)(ce.Wifi),[l,i]=(0,s.eJ)(!1),[c,d]=(0,s.eJ)([]),[m,u]=(0,s.eJ)({alertModal:{modalKey:"select-rate-mode-alert",title:"",message:"",type:"success",onClearOptions:e=>u((t=>({...t,alertModal:{...t.alertModal,...e}})))}}),h=(0,s.sO)(null),{data:p,loading:f,refetch:g,error:y,abort:N}=J({url:null!=e?`http://${e.nodeIp}/api/config/rates`:"",params:void 0,onSuccess:(e,t)=>{const{type:a,page:n}=t,{rates:s,next:r}=e.data;s.length>0&&(s.sort(((e,t)=>e.amount-t.amount)).map((e=>e.limitConverted=o===ce.Wifi?v(60*e.limit,!0).formattedTime:x(e.limit,!0).formattedBytes)),d(1===n?s:e=>[...e,...s])),r>0&&g({type:a,page:r})},onError:e=>{var t,a;d([]),e.message===T&&(e.message=R),t=e,a=Q,u((e=>({...e,alertModal:{...S(e.alertModal,t,a)}})))}});function C(){h.current&&h.current.checked&&h.current.click()}const{alertModal:k}=m,I=!y&&(f||null==p||p.next>0),M=!l&&!t&&e?.wifiRate&&e?.dataRate;return(0,n.h)(n.HY,null,(0,n.h)("input",{ref:h,type:"checkbox",id:"select-mode-rate-modal",className:"modal-toggle",onChange:t=>{if(null==e)t.currentTarget.checked=!1;else if(null!=e){if(t.currentTarget.checked){let t;M?t=ce.Wifi?"wifi":"data":(t=e?.wifiRate?"wifi":"data",r("wifi"===t?ce.Wifi:ce.Data)),g({type:t,page:1})}else N();d([])}}}),(0,n.h)("dialog",{id:"select-mode-rate-modal",className:"modal modal-bottom sm:modal-middle"},(0,n.h)("input",{type:"checkbox",id:"view-mode-rate",hidden:!0,onChange:e=>i(e.currentTarget.checked)}),(0,n.h)("form",{method:"dialog",className:"modal-box mx-auto max-h-screen border text-center sm:border-0"},(0,n.h)("h3",{className:"text-lg font-bold"},M?"Select Rate Mode":Q),(0,n.h)(n.HY,null,(0,n.h)("div",{className:"item-center tabs tabs-boxed justify-center"},e?.wifiRate&&(0,n.h)("button",{className:b("tab",{"tab-active":o===ce.Wifi}),onClick:()=>{I||(r(ce.Wifi),g({type:"wifi",page:1}))}},"Wi-Fi Rate"),e?.dataRate&&(0,n.h)("button",{className:b("tab",{"tab-active":o===ce.Data}),onClick:()=>{I||(r(ce.Data),g({type:"data",page:1}))}},"Data Rate")),(0,n.h)("div",{className:"overflow-x-auto"},(0,n.h)("table",{className:"table text-center"},(0,n.h)("thead",null,(0,n.h)("tr",null,(0,n.h)("th",null,"Amount"),(0,n.h)("th",null,o===ce.Wifi?"Time":"Data"),(0,n.h)("th",null,"Expiration"))),(0,n.h)("tbody",null,!I&&c.length>0?(0,n.h)(n.HY,null,c.map(((e,t)=>(0,n.h)("tr",{key:t},(0,n.h)("th",{className:"text-right"},e.amount),(0,n.h)("td",null,e.limitConverted),(0,n.h)("td",null,`${e.validity} day${w(e.validity)}`))))):(0,n.h)("tr",null,(0,n.h)("td",{colSpan:4},(0,n.h)("p",{className:"label-text text-center text-xl"},I?(0,n.h)($,null):`No ${o===ce.Wifi?"Wi-Fi":"Data"} Rates Available`))))))),(0,n.h)("div",{className:"modal-action mt-0 gap-2"},(0,n.h)("button",{className:"btn my-2 flex-1",onClick:C},M?"Cancel":"Close"),M&&(0,n.h)("button",{className:"btn-primary btn my-2 flex-1",onClick:()=>{C(),a(o)}},"Confirm")))),(0,n.h)(B,{modalKey:k.modalKey,title:k.title,message:k.message,type:k.type,onClearOptions:k.onClearOptions}))};var ae=({mikrotikInfo:e,portalSettings:t,selectedRateMode:a,isWifiVoucher:o,timerSeconds:r=0,hasLoggedIn:c=!1,isPauseTimeMode:d=!1,isInsertMode:m=!1,disableGlow:u=!1,onInsertCoin:h,onSelectRateMode:p,onTimerDone:f})=>{const[g,w]=(0,s.eJ)(null),[N,C]=(0,s.eJ)(null),[I,E]=(0,s.eJ)({alertModal:{modalKey:"portal-insertcoin-alert",title:"",message:"",type:"success",onClearOptions:e=>E((t=>({...t,alertModal:{...t.alertModal,...e}})))}}),O=(0,s.sO)(null);(0,s.d4)((()=>{null==t||t.sound||(K=new Audio,Z=new Audio,_=new Audio,G=new Audio)}),[t]);const{loading:L,refetch:j}=J({url:null!=t?`http://${t.nodeIp}/api/vendo/insertcoin`:"",params:null,init:{method:"delete"},onStart:()=>F(),onError:e=>{-1!==e.message.indexOf("refrain from repeatedly cancelling")&&_.play(),Q(),ne(e,`${q} - Close Vendo`)}}),{loading:W,refetch:P,abort:F}=J({url:null!=t?`http://${t.nodeIp}/api/vendo/insertcoin`:"",params:void 0,onSuccess:(e,t)=>{const o=t,{status:s,amount:r,limit:l,timer:i,voucher:d}=e.data;if(("inserting"===s||"generating"===s||"generated"===s)&&(null==l||null==i||("object"!=typeof(m=r)||null==m||0===Object.keys(m).length)||null==r||null==r.current||null==r.previous||null==r.unused||"generated"===s&&null==d))throw new Error(`API Error: Some of the vendo data are empty. ${k}`);var m;const u=a===ce.Wifi?v(60*(l||0),!0).formattedTime:x(l||0,!0).formattedBytes;"inserting"===s||"generating"===s?V(o.id,e.data,u):"generated"===s?(ae(),G.play(),ne((0,n.h)(n.HY,null,(0,n.h)(ee,{isVoucherWifiType:a===ce.Wifi,voucher:d,amount:r?.current||0,limitConverted:u}),(0,n.h)("p",{className:"mb-2 text-justify"},"Remember to capture a screenshot or save a copy of this voucher. It will allow you to extend your time, convert it, or use it on another device whenever you're ready."),(0,n.h)("p",{className:"mb-2 text-center font-normal italic"},"Enjoy your session!")),"Voucher Generated",!1,(()=>{Q();const e=document.getElementById(c?"status-form":"login-form");if(e&&d){const{username:t}=e.elements;t.value=d,e.requestSubmit()}}),c?"Convert the voucher":"Continue to Login",c?"Close":void 0,c?()=>Q():void 0)):"started"===s?(K.play(),V(o.id,e.data,u),h&&h(!0),w(o.id)):"stopped"===s?(_.play(),Q(),ne(e.message,q,!0)):"failed"===s||"error"===s?(_.play(),Q(),ne(e.message,`${q} - Generate Voucher`,!0)):(_.play(),Q(),ne(M,q,!0))},onError:e=>{Q(),e.message===T&&(e.message=R),ne(e,q)}});function V(e,t,a){C({amount:{current:t.amount?.current||0,previous:t.amount?.previous||0,unused:t.amount?.unused||0},limitConverted:a,timer:t.timer||0}),X=setTimeout((()=>P({status:"result",id:e})),1e3)}function Y(e){P({status:"start",id:y(),type:e===ce.Wifi?"wifi":"data"}),p(e)}function U(e,t,a){!t&&e&&(a?(e.classList.add("active"),e.click()):e.classList.remove("active"))}function Q(){X&&(clearTimeout(X),X=null),w(null),C(null),ae(),h&&h(!1)}function ae(){""!==K.src&&(K.pause(),K.currentTime=0)}function ne(e,t,a=!1,n,o,s,r){E((l=>({...l,alertModal:{...S(l.alertModal,e,t,a),onCloseModal:n,closeBtnTxt:o,secondaryBtnTxt:s,onSecondary:r}})))}const{alertModal:se}=I,re=W||L;return(0,n.h)(n.HY,null,(0,n.h)("div",{className:b("flex flex-col items-center justify-center drop-shadow-none",{hidden:m})},(0,n.h)("div",{className:"relative border p-2 shadow"},o?(0,n.h)(D,{minutes:r,halt:d,onTimerDone:f,enableAnimationMobile:!0===t?.mobileAnimation}):(0,n.h)(de,{statusLink:""!==e.client.username?e.links.status:"",halt:d||m}),(0,n.h)("span",{className:"absolute -bottom-px right-2"},(0,n.h)("span",{className:b("badge badge-xs shadow-md",{"badge-primary":c,"badge-neutral":!c})}))),d?(0,n.h)(n.HY,null,(0,n.h)("div",{className:"hero mt-4"},(0,n.h)("div",{className:"hero-content"},(0,n.h)("div",{className:"max-w-md"},(0,n.h)("div",{className:"overflow-x-auto"},(0,n.h)("p",{className:"text-justify"},"Press the ",(0,n.h)("span",{className:"font-normal italic"},"'Resume'")," button below to continue your remaining session. ",(0,n.h)("br",null)," ",(0,n.h)("br",null),"The next time you visit this hotspot portal, your session will automatically resume. In case it does not, please enter your voucher code."),(0,n.h)("button",{className:"btn-primary btn my-2 w-full shadow-md drop-shadow-md",onClick:()=>window.location.reload()},"Resume")))))):(0,n.h)(n.HY,null,null!=t&&(0,n.h)(n.HY,null,(0,n.h)("label",{ref:O,htmlFor:"select-mode-rate-modal",className:b("my-4 rounded-full border-4 p-1 shadow-md drop-shadow-md",{"shiny-btn-grey shadow-gray-400":!c&&!u,"shiny-btn-green shadow-green-300":c&&!u,"no-animation-mobile":!t?.mobileAnimation}),onClick:e=>{const a=document.getElementById("view-mode-rate");t?.wifiRate&&t?.dataRate||(e.preventDefault(),Y(t?.wifiRate?ce.Wifi:ce.Data)),a&&a.checked&&a.click()}},(0,n.h)("img",{className:"mask mask-circle object-cover",src:c?H:z,height:150,width:150,draggable:!1})),(0,n.h)("div",{className:b("badge badge-primary badge-md mb-2 ml-2 p-3",{"animate-pulse":!0===t?.mobileAnimation,"lg:animate-pulse":!t?.mobileAnimation}),onMouseDown:()=>U(O.current,u,!0),onMouseUp:()=>U(O.current,u,!1)},(0,n.h)("span",{className:b("text-center font-normal uppercase",{"pt-1":re||u})},re||u?(0,n.h)($,null):"Tap to Insert Coin"))))),(0,n.h)("div",{className:b("hero mb-2 bg-base-200",{hidden:!m})},(0,n.h)("div",{className:"hero-content"},(0,n.h)("div",{className:"max-w-md"},(0,n.h)("div",{className:"overflow-x-auto"},(0,n.h)("h4",{className:b("text-center text-xl",{"animate-pulse":!0===t?.mobileAnimation,"lg:animate-pulse":!t?.mobileAnimation})},"Insert Coin Now!"),(0,n.h)(ee,{isVoucherWifiType:a===ce.Wifi,amount:N?.amount.current||0,previousAmount:N?.amount.previous||0,limitConverted:N?.limitConverted||""})),N&&N.amount.unused>0&&(0,n.h)("div",{className:b("text-center",{"animate-pulse":!0===t?.mobileAnimation,"lg:animate-pulse":!t?.mobileAnimation})},"Unused Amount: ",(0,n.h)("span",{className:"badge badge-accent"},N.amount.unused)),(0,n.h)(oe,{mkHostname:e.common.hostname}),(0,n.h)(A,{milliseconds:N?.timer||0,maxMilliseconds:3e4}),(0,n.h)("button",{type:"button",className:b("btn-outline btn my-2 w-full",{"btn-accent":0===N?.amount.current,"btn-primary":0!==N?.amount.current}),onClick:()=>j({id:g}),disabled:null!=N?.timer&&0===N.timer},null!=N?.timer&&0!==N.timer?(0,n.h)(n.HY,null,N&&0===N.amount.current?(0,n.h)(l.Z,{size:20}):(0,n.h)(i.Z,{size:20})):(0,n.h)($,null))))),(0,n.h)(B,{modalKey:se.modalKey,title:se.title,message:se.message,type:se.type,closeBtnTxt:se.closeBtnTxt,onCloseModal:()=>se.onCloseModal&&se.onCloseModal(),secondaryBtnTxt:se.secondaryBtnTxt,onSecondary:()=>se.onSecondary&&se.onSecondary(),onClearOptions:se.onClearOptions}),(0,n.h)(te,{portalSettings:t,isInsertMode:m,onConfirm:e=>{Y(e)}}))};var ne=({isLoading:e,className:t,...a})=>(0,n.h)("label",{htmlFor:"select-mode-rate-modal",className:b("btn-neutral btn my-2 w-full flex-1 normal-case shadow-md drop-shadow-md",t),disabled:e,onClick:()=>{const e=document.getElementById("view-mode-rate");e&&!e.checked&&e.click()},...a},(0,n.h)("span",{className:"uppercase"},"Show Rates"));var oe=({mkHostname:e})=>{const t=`http://${e}`;return(0,n.h)("p",{className:"mb-2 text-justify"},"Visit"," ",(0,n.h)("a",{href:t,className:"link-primary link"},t)," ","to extend your time or convert vouchers. Always have a copy of your voucher to allow you to use it on another device whenever you're ready.")};var se=()=>(0,n.h)("div",{className:"hero"},(0,n.h)("div",{className:"hero-content px-0 text-center"},(0,n.h)("div",{className:"max-w-md"},(0,n.h)("h1",{className:"text-3xl font-bold"},"Insert Coin Disabled!"),(0,n.h)("p",{className:"text-sm"},"To enable insert coin, use the Admin Panel to bind the portal settings for this hotspot server.")))),re=a(493),le=a(398);function ie(e){const t={bytesUp:e.searchParams.get("bytesUp"),bytesDown:e.searchParams.get("bytesDown"),remainBytesIn:e.searchParams.get("remainBytesIn")},a=null!=t.bytesUp&&""!=t.bytesUp?Number(t.bytesUp):0,n=null!=t.bytesDown&&""!=t.bytesDown?Number(t.bytesDown):0;return{bytesUp:a,bytesDown:n,remainingBytesTotal:(null!=t.remainBytesIn&&""!=t.remainBytesIn?Number(t.remainBytesIn):0)-(a+n)}}var ce,de=({statusLink:e,halt:t})=>{const[a,o]=(0,s.eJ)({bytesUpConverted:"0B",bytesDownConverted:"0B",remainingBytesTotal:"0B"}),{refetch:r}=J({url:t?"":e,params:null,onResponse:e=>{const t=new URL(e.url);if("no"===t.searchParams.get("auth"))return;const{bytesUp:a,bytesDown:n,remainingBytesTotal:s}=ie(t);o((()=>({bytesUpConverted:N(a),bytesDownConverted:N(n),remainingBytesTotal:N(s)}))),setTimeout((()=>r()),6e4)},options:{ignoreRedirect:!0,ignoreContentRead:!0}});return(0,n.h)("div",{className:"flex flex-col"},(0,n.h)("label",{className:"label-text-alt text-center"},"Available Data"),(0,n.h)("div",{className:"text-center text-5xl font-extrabold"},a.remainingBytesTotal),(0,n.h)("div",{className:"mt-1 flex items-center justify-center px-2 text-base"},(0,n.h)(n.HY,null,a.bytesDownConverted,(0,n.h)(re.Z,{size:20})),(0,n.h)(n.HY,null,a.bytesUpConverted,(0,n.h)(le.Z,{size:20}))))};!function(e){e[e.Wifi=1]="Wifi",e[e.Data=2]="Data"}(ce||(ce={}));const me="Voucher Status";var ue=({mainLoading:e,mikrotikInfo:t,portalSettings:a})=>{const[o,l]=(0,s.eJ)(""),[i,c]=(0,s.eJ)(ce.Wifi),[d,m]=(0,s.eJ)(!1),[u,h]=(0,s.eJ)({alertModal:{modalKey:"portal-login-alert",title:"",message:"",type:"success",onClearOptions:e=>h((t=>({...t,alertModal:{...t.alertModal,...e}})))}}),{loading:p,refetch:f}=J({url:t.links.loginOnly,init:{method:"post"},params:null,onResponse:(e,a)=>{const o=a,s=new URL(e.url);if("yes"===s.searchParams.get("auth"))window.location.reload();else{const a=s.searchParams.get("errorOrig");let r=null,l="";e.url===t.links.loginOnly?r=(0,n.h)(n.HY,null,(0,n.h)("h3",{className:"py-4 text-3xl underline"},o.username),(0,n.h)(oe,{mkHostname:t.common.hostname}),(0,n.h)("p",{className:"mb-2 text-center font-normal italic"},"You can now access to the internet!")):l=null==a?`Internal Client Error! Might be affected for higher versions of RouterOS updates. ${k}`:"invalid username or password"===a?"The voucher you entered is invalid.":"your uptime limit is reached"===a?"You have reached the maximum allowed usage time.":"no more sessions are allowed for user"===a?"Sorry, but the voucher can only be used for a single session. Multiple device usage is not allowed. Please disable your Random MAC/Hardware Address if it is enabled.":"already authorizing, retry later"===a?"The authorization process is currently in progress. Please retry later.":"your traffic limit is reached"===a?"You have consumed all available data.":-1!==a.indexOf("download-burst-threshold greater than download-burst-limit")?`Invalid hotspot user profile configuration, download-burst-threshold greater than download-burst-limit. ${I}`:-1!==a.indexOf("download-burst-limit less than download-max-limit")?`Invalid hotspot user profile configuration, download-burst-limit less than download-max-limit. ${I}`:`Error: ${a}, might be affected for higher versions of RouterOS updates. ${k}`,""!==l?g(l,me,!0):r&&g(r,"Valid Voucher",!1,"Continue",(()=>window.location.reload()))}},onError:e=>g(e,me),options:{ignoreRedirect:!0,ignoreContentRead:!0}});function g(e,t,a=!1,n,o){h((s=>({...s,alertModal:{...S(s.alertModal,e,t,a),closeBtnTxt:n,onCloseModal:o}})))}const{alertModal:y}=u,v=p||e;return(0,n.h)("div",{className:b({"bg-gradient-radial from-gray-200 to-white":!v&&null!=a,"-mt-2":d})},(0,n.h)("form",{method:"post",id:"login-form",onSubmit:e=>{e.preventDefault();const t=e.currentTarget.username.value.trim(),a=e.currentTarget.password.value;o!==t&&l(t),f({username:t,password:a,dst:"",popup:"true"})}},(0,n.h)(n.HY,null,(0,n.h)(ae,{mikrotikInfo:t,portalSettings:a,selectedRateMode:a?.wifiRate&&a.dataRate&&i||(a?.wifiRate?ce.Wifi:ce.Data)||ce.Wifi,isWifiVoucher:a?.wifiRate&&a.dataRate&&i===ce.Wifi||!0===a?.wifiRate||!0,isInsertMode:d,onInsertCoin:e=>m(e),onSelectRateMode:e=>c(e),disableGlow:v}),(0,n.h)("div",{className:"px-4"},null==a&&(0,n.h)(se,null),(0,n.h)(ne,{isLoading:v,disabled:null==a}),(0,n.h)("fieldset",{className:"join w-full",disabled:v},(0,n.h)(j,{type:"text",name:"username",autoComplete:"username",placeholder:"Enter a voucher",autocapitalize:"off",autocorrect:"off",className:"join-item rounded-r-none shadow-md",onChange:e=>l(e.currentTarget.value)}),(0,n.h)(j,{name:"password",hidden:!0}),(0,n.h)("button",{type:"submit",className:"btn-primary join-item btn my-2 shadow-md drop-shadow-md",disabled:""===o},(0,n.h)("div",{className:"rounded-br-none rounded-tr-none"},v?(0,n.h)($,{className:"loading-sm"}):(0,n.h)(r.Z,{size:20}))))))),(0,n.h)(B,{modalKey:y.modalKey,title:y.title,message:y.message,type:y.type,closeBtnTxt:y.closeBtnTxt,onCloseModal:()=>y.onCloseModal&&y.onCloseModal(),onClearOptions:y.onClearOptions}))},he=a(7),pe=a(983);const fe="Convert Voucher";var ge=({mainLoading:e,mikrotikInfo:t,portalSettings:a})=>{W(t.client.username);const o=-1===t.client.username.indexOf("d-"),[r,l]=(0,s.eJ)(""),[i,c]=(0,s.eJ)(ce.Wifi),[d,m]=(0,s.eJ)(!1),[u,h]=(0,s.eJ)(!1),[p,f]=(0,s.eJ)({alertModal:{modalKey:"portal-status-alert",title:"",message:"",type:"success",onClearOptions:e=>f((t=>({...t,alertModal:{...t.alertModal,...e}})))}}),{loading:g,refetch:w}=J({url:t.links.logout,params:void 0,onResponse:(e,t)=>{t&&t["erase-cookie"]?window.location.reload():h(!0)},onError:e=>M(e,"Logout Status"),options:{ignoreRedirect:!0,ignoreContentRead:!0}}),x=(0,s.I4)((e=>{w(e?{"erase-cookie":!0}:void 0)}),[w]),{data:C,loading:k,refetch:I}=J({url:null!=a?`http://${a.nodeIp}/api/vendo/convert`:"",params:null,init:{method:"post"},onSuccess:async(e,a)=>{const s=e.data,l=a;if("processing"===s.status)setTimeout((()=>{I({status:"result",id:l.id})}),1e3);else{const a="processing_done"===s.status;if(a)if(s.details){let e=0;try{const a=await fetch(t.links.status),n=new URL(a.url);if("yes"===n.searchParams.get("auth"))if(o)e=Number(n.searchParams.get("sessionTimeLeft")||0);else{const{remainingBytesTotal:t}=ie(n);e=t}}catch(e){}if(0===e)return void M(T,fe,!0,(()=>window.location.reload()));M((0,n.h)("div",{className:"py-4"},(0,n.h)("p",null,"Are you sure you want to convert?"),(0,n.h)("div",{className:"flex"},(0,n.h)("div",{className:"w-1/2 rounded-lg bg-base-200 p-2"},(0,n.h)("p",null,(0,n.h)("span",{className:"label-text-alt block text-xs"},"Current Balance"),(0,n.h)("span",{className:"block"},o?v(e,!0).formattedTime:N(e)),(0,n.h)("span",{className:"label-text-alt mt-2 block text-xs"},"To Convert"),(0,n.h)("span",{className:"block"},o?v(s.cLimit,!0).formattedTime:N(s.cLimit)))),(0,n.h)("div",{className:"flex items-center px-2"},(0,n.h)(he.Z,{size:20})),(0,n.h)("div",{className:"w-1/2 rounded-lg bg-base-200 p-2"},(0,n.h)("p",{className:"flex h-full w-full flex-col justify-center"},(0,n.h)("span",{className:"label-text-alt block text-xs"},"After Conversion"),(0,n.h)("span",{className:"block"},o?v(e+s.cLimit,!0).formattedTime:N(e+s.cLimit))))),(0,n.h)("p",{className:"text-left"},"After the conversion, you will be logout shortly to apply the changes. If your limit has not been updated just pause then resume your voucher.")),fe,!a,(()=>{I({status:"start",id:y(),voucher:t.client.username,convertVoucher:r,details:!1})}),"Yes, Convert!","No, Keep It",void 0,!1)}else x(!1),setTimeout((()=>window.location.reload()),1e4),M(e.message,fe,!1,(()=>window.location.reload()),"Resume");else M(e.message,fe,!0,(()=>"error"===s.status&&window.location.reload()))}},onError:e=>{e.message===T&&(e.message=R),M(e,fe)}});function M(e,t,a=!1,n,o,s,r,l=!0){f((i=>({...i,alertModal:{...S(i.alertModal,e,t,a,l),onCloseModal:n,closeBtnTxt:o,secondaryBtnTxt:s,onSecondary:r}})))}const{alertModal:E}=p,A=e||k||g||C&&"processing"===C.status;return(0,n.h)("div",{className:b({"bg-gradient-radial from-green-50 to-white":!A&&!u&&null!=a,"-mt-2":d})},(0,n.h)(ae,{mikrotikInfo:t,portalSettings:a,selectedRateMode:a?.wifiRate&&a.dataRate&&i||(a?.wifiRate?ce.Wifi:ce.Data)||ce.Wifi,isWifiVoucher:o,timerSeconds:Number(o?t.userStatus.sessionTimeLeftSecs:t.userStatus.uptimeSecs)/60,hasLoggedIn:!0,isPauseTimeMode:u,isInsertMode:d,disableGlow:A,onInsertCoin:e=>m(e),onSelectRateMode:e=>c(e),onTimerDone:()=>window.location.reload()}),!u&&(0,n.h)("div",{className:"px-4"},null==a&&(0,n.h)(se,null),(0,n.h)("div",{className:b("flex gap-2",{hidden:d})},(0,n.h)("button",{type:"button",className:"btn my-2 flex-1 shadow-md drop-shadow-md",onClick:()=>x(!1),disabled:A||null==a},"Pause"),(0,n.h)("button",{type:"button",className:"btn-accent btn my-2 flex-1 shadow-md drop-shadow-md",onClick:()=>x(!0),disabled:A},"Logout")),(0,n.h)(ne,{isLoading:A,disabled:null==a}),(0,n.h)("form",{method:"post",id:"status-form",onSubmit:e=>{e.preventDefault();const a=e.currentTarget.username.value.trim();r!==a&&l(a),I({status:"start",id:y(),voucher:t.client.username,convertVoucher:a,details:!0})},className:b({hidden:d})},(0,n.h)("fieldset",{className:"join w-full",disabled:A},(0,n.h)(j,{type:"text",name:"username",autoComplete:"username",placeholder:"Enter a voucher to convert",autocapitalize:"off",autocorrect:"off",className:"join-item rounded-r-none shadow-md",onChange:e=>l(e.currentTarget.value)}),(0,n.h)("button",{type:"submit",className:"btn-primary join-item btn my-2 shadow-md drop-shadow-md",disabled:""===r},(0,n.h)("div",{className:"rounded-br-none rounded-tr-none"},A?(0,n.h)($,{className:"loading-sm"}):(0,n.h)(pe.Z,{size:20})))))),(0,n.h)(B,{modalKey:E.modalKey,title:E.title,message:E.message,type:E.type,showOverlayIcon:E.showOverlayIcon,closeBtnTxt:E.closeBtnTxt,onCloseModal:()=>E.onCloseModal&&E.onCloseModal(),secondaryBtnTxt:E.secondaryBtnTxt,onSecondary:()=>E.onSecondary&&E.onSecondary(),onClearOptions:E.onClearOptions}))},be=a.p+"images/db2bfd7c3d242c1b99a4.jpg",ye=a.p+"images/df15a8b86552078739a7.jpg",ve=a.p+"images/65df85cc8e12e8b9051a.jpg",we=a.p+"images/f12b84d2979d205ed669.jpg";let xe=0;const Ne=({portalSettings:e,haltAnimation:t=!1})=>{const[a,o]=(0,s.eJ)(1),[r,l]=(0,s.eJ)(!1),i=(0,s.sO)(null),c=(0,s.I4)((e=>{if(e===a)return;const t=e-a;i.current&&i.current.scrollBy({left:i.current.offsetWidth*t}),o(e)}),[a]),d=[];for(let e=1;e<=4;e++)d.push((0,n.h)(Ce,{isActive:a===e,onSelect:()=>c(e)}));function m(){xe++,4===xe&&(l(!0),i.current&&i.current.scrollBy({left:4*i.current.offsetWidth*-1}))}return(0,s.d4)((()=>{let e;return r&&(e=setInterval((()=>{t||c(4===a?1:a+1)}),5e3)),()=>{e&&clearInterval(e)}}),[r,a,t,c]),(0,n.h)("div",{className:"relative"},(0,n.h)("div",{ref:i,className:b("carousel h-[252px] sm:rounded-t-2xl",{"scroll-smooth":!0===e?.mobileAnimation,"scroll-auto lg:scroll-smooth":!e?.mobileAnimation})},(0,n.h)("div",{className:"carousel-item w-full"},(0,n.h)("img",{src:be,className:"w-full",onLoad:m})),(0,n.h)("div",{className:"carousel-item w-full"},(0,n.h)("img",{src:ye,className:"w-full",onLoad:m})),(0,n.h)("div",{className:"carousel-item w-full"},(0,n.h)("img",{src:ve,className:"w-full",onLoad:m})),(0,n.h)("div",{className:"carousel-item w-full"},(0,n.h)("img",{src:we,className:"w-full",onLoad:m})),(0,n.h)("div",{className:"image-gradient absolute bottom-2 h-full w-full"})),(0,n.h)("div",{className:"absolute bottom-2 flex w-full justify-center gap-2 pb-2"},d))},Ce=({isActive:e,onSelect:t})=>(0,n.h)("button",{className:b("h-1 w-5 rounded-full",{"bg-primary":e,"bg-secondary-content":!e}),onClick:t}),ke=({isActive:e})=>(0,n.h)("footer",{className:"footer mt-2 items-center rounded-t-2xl bg-base-100 p-4 text-base-content"},(0,n.h)("div",{className:"grid-flow-col items-center"},(0,n.h)("img",{src:e?H:z,className:"h-9 w-9"}),(0,n.h)("p",{className:"flex flex-col"},(0,n.h)("span",{class:"font-bold"},(0,n.h)("a",{href:"https://intrafi.github.io/",target:"_blank",rel:"noreferrer",className:"link no-underline hover:link-primary hover:underline"},"IntraFi")," ","© 2023 - All rights reserved."),(0,n.h)("span",null,"Powered by"," ",(0,n.h)("a",{href:"https://mikrotik.com/",target:"_blank",rel:"noreferrer",className:"link no-underline hover:link-primary hover:underline"},"MikroTik")))));var Ie=()=>{const[e,t]=(0,s.eJ)(!0),[a,r]=(0,s.eJ)(!1),[l,i]=(0,s.eJ)(null),[c,d]=(0,s.eJ)(getMikrotikInfo()),m="yes"===c.client.loggedIn,[u,h]=(0,s.eJ)(null);(0,s.d4)((()=>{(0,o.BC)(window.location.pathname,!0)}),[c.client.interfaceName]),J({url:`/config/${c.client.interfaceName}/1.json`,params:null,onResponse:async e=>{404!==e.status&&h(await e.json()),p()},onError:()=>t(!1),options:{ignoreRedirect:!0,ignoreContentRead:!0}});const{refetch:p}=J({url:"/system.json",params:void 0,onResponse:async e=>{if(404!==e.status){const t=await e.json();i({espVersion:t.esp_version,portalVersion:t.portal_version})}},onEnd:()=>{m?t(!1):f({status:"start"})},onError:()=>t(!1),options:{ignoreRedirect:!0,ignoreContentRead:!0}}),{refetch:f}=J({url:null!=u?`http://${u.nodeIp}/api/mikrotik/http-cookie`:"",params:void 0,onSuccess:e=>{const a=e.data;if("processing"===a.status)setTimeout((()=>{f({status:"result"})}),1e3);else{if("processing_done"===a.status&&""!==a.voucher){const e=document.getElementById("login-form");if(e){const{username:t}=e.elements;t.value=a.voucher,e.requestSubmit()}}else 0;t(!1)}},onError:()=>t(!1)});return(0,n.h)("div",{className:"portal-w-screen mx-auto flex min-h-screen flex-col"},(0,n.h)("div",{className:"flex-grow"},(0,n.h)("div",{className:"rounded-b-2xl bg-white shadow sm:my-2 sm:rounded-t-2xl"},(0,n.h)(Ne,{portalSettings:u}),m?(0,n.h)(ge,{mainLoading:e,mikrotikInfo:c,portalSettings:u}):(0,n.h)(ue,{mainLoading:e,mikrotikInfo:c,portalSettings:u}),(0,n.h)("div",{className:"py-2"},(0,n.h)("p",{className:"text-center"},""!==c.client.username&&(0,n.h)("span",{className:"text-sm font-semibold"},"Voucher: ",c.client.username)),(0,n.h)("p",{className:"flex flex-col text-center",onDblClick:()=>r((e=>!e))},(0,n.h)("span",{className:"text-xs font-thin"},"IP: ",c.client.ip," | MAC: ",c.client.mac),a&&(0,n.h)(n.HY,null,(0,n.h)("span",{className:"text-xs font-thin"},"Hotspot Server: ",c.common.serverName),(0,n.h)("span",{className:"text-xs font-thin"},"Hotspot Interface: ",c.client.interfaceName),(0,n.h)("span",{className:"text-xs font-thin"},"Virtual LAN (VLAN) ID: ",c.client.vlanId)),l&&(0,n.h)("span",{className:"text-xs font-thin"},"Hotspot Portal ",l.portalVersion))))),(0,n.h)(ke,{isActive:m}))};const Me=document.getElementById("root"),Te=()=>(0,n.h)("div",{id:"app"},(0,n.h)("div",{className:"flex min-h-screen flex-col antialiased"},(0,n.h)("div",{className:"relative flex flex-grow"},(0,n.h)("main",{className:"flex-1 bg-base-200"},(0,n.h)(o.F0,null,(0,n.h)(o.AW,{default:!0,path:"/portal",component:Ie}))))));Me?(0,n.sY)((0,n.h)(Te,null),Me):window.location.reload()}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=function(t,a,o,s){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],s=e[d][2];for(var l=!0,i=0;i<a.length;i++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(l=!1,s<r&&(r=s));if(l){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,o,s]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var o=a.length-1;o>-1&&!e;)e=a[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),function(){var e={179:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,r=a[0],l=a[1],i=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var d=i(n)}for(t&&t(a);c<r.length;c++)s=r[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},a=self.webpackChunkintrafi_hotspot=self.webpackChunkintrafi_hotspot||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var o=n.O(void 0,[592],(function(){return n(497)}));o=n.O(o)}();